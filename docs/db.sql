PRAGMA foreign_keys = ON;

CREATE TABLE CATEGORY (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    CAT_NAME VARCHAR(42) NOT NULL UNIQUE
);

CREATE TABLE TAG (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    TAG_NAME VARCHAR(42) NOT NULL UNIQUE
);

CREATE TABLE NOTE (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    NOTE_NAME VARCHAR(42) NOT NULL UNIQUE,
    NOTE_DESC VARCHAR(420) NOT NULL,
    
    CATEGORY_ID INT NOT NULL,
    TAG_ID INT NOT NULL,

    FOREIGN KEY (CATEGORY_ID) REFERENCES CATEGORY(ID)
		ON DELETE CASCADE,
    FOREIGN KEY (TAG_ID) REFERENCES TAG(ID)
		ON DELETE CASCADE
);

INSERT INTO CATEGORY (CAT_NAME) VALUES ('UNCATEGORIZED');
INSERT INTO TAG (TAG_NAME) VALUES ('UNTAGGED');

INSERT INTO CATEGORY (CAT_NAME) VALUES ('Ideas');
INSERT INTO CATEGORY (CAT_NAME) VALUES ('Project');
INSERT INTO CATEGORY (CAT_NAME) VALUES ('42');

INSERT INTO TAG (TAG_NAME) VALUES ('Homework');
INSERT INTO TAG (TAG_NAME) VALUES ('Bug');

